\documentclass[Screen16to9,17pt]{foils}
\usepackage{kea-slides}
\externaldocument{security-in-web-development-exercises}
\selectlanguage{english}


% Input:
% https://www.threathunting.net/reading-list

% Docker image with
% https://hub.docker.com/r/threathuntproj/hunting/
% This image contains a complete threat hunting & data analysis environment built on Python, Pandas, PySpark and Jupyter notebook.

\begin{document}

\mytitlepage
{0. Introduction}
{Introduction to Incident Response Elective, KEA}


\hlkprofiluk

\slide{Goals for today}

\hlkimage{6cm}{thomas-galler-hZ3uF1-z2Qc-unsplash.jpg}

\begin{list2}
\item Welcome, course goals and expectations
\item Prepare Virtual Machines - hope you brought a laptop
\item Create a good starting point for learning
\item Concrete Expectations
\item Prepare tools for the exercises
\end{list2}

Photo by Thomas Galler on Unsplash

\slide{Plan for today}

\begin{list2}
\item Create a good starting point for learning
\item Introduce lecturer and students
\item Expectations for this course
\item Literature list walkthrough
\item Prepare tools for the exercises
\item Debian Linux introduction
\item Story time Hacking
\end{list2}

Exercise theme: Get tools up and running
\begin{list2}
\item Debian Linux installation
\item Git tutorials, Python, Ansible
\end{list2}
Linux is a toolbox we will use and participants will use virtual machines


\slide{Course Information}

\hlkimage{8cm}{pawel-janiak-dxFi8Ea670E-unsplash.jpg}

{\Large\bf Course: Security in Web Development elective}

Teaching dates: thursdays 08:30 - 12:30 in GBG.E436\\
9/2, 16/2, 23/2, 2/3, \sout{9/3}, 23/3, 30/3, 13/4, 27/4

{\bf Note: we need to move one date! 9/3}

Exam: to be announced \hskip 12cm Photo by Pawel Janiak on Unsplash

\slide{Time schedule}

Official times Thursdays:
\begin{list2}
\item 12:45 - 14:15 Session 1\\

\item 15min break\\

\item  14:30 - 16:00 Session 2\\
\end{list2}

In practice:
We will aim at one break at least for every 45min, and we will also be doing exercises.


\slide{Course Materials}

\begin{list1}
\item This material is in multiple parts:
\begin{list2}
%\item Introduktionsmateriale med baggrundsinformation
\item Slide shows - presentation - this file
\item Exercises - PDF which is updated along the way
\end{list2}
\item Books listed in the lecture plan and here
\item Additional resources from the internet
\end{list1}

Note: the presentation slides are not a substitute for reading the books, papers and doing exercises, many details are not shown


\slide{Fronter Platform}

\hlkimage{10cm}{fronter.png}

We will use fronter a lot, both for sharing educational materials and news during the course.

You will also be asked to turn in deliverables through fronter

\link{https://kea-fronter.itslearning.com/}

\vskip 5mm
\centerline{If you haven't received login yet, let us know}


\slide{Deliverables and Exam}

\begin{list2}
\item Exam
\item Individual: Oral based on curriculum
\item Graded (7 scale)
\item Exam is 30 minutes in total, including pulling the question and grading
\item Count on being able to present your project -- talk for about 10 minutes
\item Prepare material (keywords, examples, exercises, wireshark captures) for different topics so that you can use it to help you at the exam

\vskip 5mm
\item Deliverables:
\item 1 Mandatory assignments
\item Mandatory assignment is required in order to be entitled to the exam.
\end{list2}


\slide{Course Description}

{\bf Course description}\\
Introduction to Incident Response is a course that will describe the basics of incident response. This will include the terms, tools and processes used by professionals.

Below are the required parts from studieordningen:

{\bf Viden}
\begin{list2}
\item Forskellige cyberangrebs stadier og teknikker
\item Incident-Response cyklus
\item Pricipperne i Event logning
\item Processer i forbindelse med Incident response og Threat hunting
\end{list2}


{\bf Færdigheder}

\begin{list2}
\item Søge i relevante filer, hukommelse og lignende for indicators of compromise (IoC)
\item Analysere event log, memory og timeline for tegn på security incidents
\item Viderebringe resultater i form af ekspertrapporter
\end{list2}

{\bf Kompetencer}
\begin{list2}
\item Anvende, udvikle og dele Threat Intelligence
\item Anvende og udvikle processer til incident håndtering i en organisation
\end{list2}



\slide{Content}
\begin{list2}
\item
\end{list2}


\slide{What is Incident Response}


\hlkimage{10cm}{alexander-schimmeck-SeeM4AnkEHE-unsplash.jpg}

\begin{list2}
\item
\end{list2}

\hfill Photo by Alexander Schimmeck on Unsplash

\slide{Business Challenges}

\hlkimage{7cm}{adam-bignell-9tI2z5VZIZg-unsplash.jpg}

\begin{list2}
\item
\end{list2}
 \hfill Photo by Adam Bignell on Unsplash

\slide{Software Challenges}

\hlkimage{7cm}{john-barkiple-l090uFWoPaI-unsplash.jpg}

\begin{list2}
\item Complexity
\item

\end{list2}
\hfill Photo by John Barkiple on Unsplash



\slide{Exercises}

Exercise theme: Virtual Machines allows us play with tech

Hardware

Since we are going to be doing exercises, each team will need virtual machines.

The following are recommended systems:
\begin{list2}
\item One VM based on Debian, running software servers and web applications
\item One based on Linux, running tools
%\item One VM based on Kali Linux, running hacking tools -- primary tool is Burp Suite and browser
\item Setup instructions and help \url{https://github.com/kramse/kramse-labs}
\end{list2}

Linux is a toolbox we will use and participants will use virtual machines

\vskip 1cm
PS We will from time to time have exercises, groups dont need to be the same each time.

\slide{Goals and plans}

%\hlkimage{}{}

\begin{quote}
  “A goal without a plan is just a wish.”\\
  ― Antoine de Saint-Exupéry
\end{quote}

I want this course to
\begin{list2}
\item Include everything listed in contents above
\item Be practical -- you can do something useful
\item Kickstart your journey into Web Security\\
Getting a practical book with pointers about the subject
\item Present a lot of useful sources and tools
\item Prepare you for production use of the knowledge
\end{list2}

We have a lot of flexibility.


\slide{Prerequisites}

\begin{list1}
\item This course includes exercises and getting the most of the course requires the participants to carry out these practical exercises
\item We will use Linux for some exercises but previous Linux and Unix knowledge is not needed
\item It is recommended to use virtual machines for the exercises
\item Security and most internet related security work has the following requirements:
\begin{list2}
\item Network experience
\item Server experience
\item TCP/IP principles - often in more detail than a common user
\item Programming is an advantage, for automating things
\item Some Linux and Unix knowledge is in my opinion a {\bf necessary skill} for infosec work\\
-- too many new tools to ignore, and lots found at sites like Github and Open Source written for Linux
\end{list2}
\end{list1}


\slide{Primary literature}

\hlkrightpic{5cm}{0cm}{old_book_lumen_design_st_01.png}
Primary literature:
\begin{list2}
\item \emph{Intelligence-Driven Incident Response} \\
 Scott Roberts. Rebekah Brown, ISBN: 9781491934944 - short IDIR

\item \emph{Forensics Discovery}, Dan Farmer, Wietse Venema 2004, Addison-Wesley 240 pages.\\
ISBN: 9780201634976 called FD\\
This book is currently available for "free":\\
\link{http://fish2.com/security/} -- also uploaded to Fronter.

\item \emph{
Computer Security Incident Handling Guide}, NIST SP 800-61 Rev. 2, August 2012,\\
\link{https://doi.org/10.6028/NIST.SP.800-61r2}
\end{list2}

{\bf Other papers and resources will also be part of the curriculum!}

\slide{Course overview}

We will now go through a little from the Table of Contents in the books.

and the lecture plan in Fronter\\
(Source is also in Git \link{https://github.com/kramse/kea-it-sikkerhed} )

\slide{Book: Intelligence-Driven Incident Response}

\hlkimage{6cm}{book-intelligence-driven-incident-response.jpg}

\emph{Intelligence-Driven Incident Response} \\
 Scott Roberts ISBN: 9781491934944 - short IDI



\slide{Book: Forensics Discovery (FD)}

\hlkimage{8cm}{forensic-discovery.jpg}

\emph{Forensics Discovery}, Dan Farmer, Wietse Venema 2004, Addison-Wesley.

Can be found at \link{http://fish2.com/security/}

\slide{Book: NIST SP800-61rev2}

\hlkimage{12cm}{NIST-SP800-61r2.png}

\link{https://doi.org/10.6028/NIST.SP.800-61r2}


\slide{Supporting literature books}
\begin{list2}
\item \emph{Linux Basics for Hackers Getting Started with Networking, Scripting, and Security in Kali}\\
OccupyTheWeb, December 2018, 248 pp. ISBN-13: 978-1-59327-855-7 - shortened LBfH
\item \emph{The Debian Administrator’s Handbook}, Raphaël Hertzog and Roland Mas\\
\url{https://debian-handbook.info/} - shortened DEB
\item \emph{Kali Linux Revealed  Mastering the Penetration Testing Distribution}\\
Raphaël Hertzog, Jim O'Gorman - shortened KLR
\end{list2}



\slide{Linux Basics for Hackers (LBfH)}

\hlkimage{6cm}{LinuxBasicsforHackers_cover-front.png}

\emph{Linux Basics for Hackers
Getting Started with Networking, Scripting, and Security in Kali}
by OccupyTheWeb
December 2018, 248 pp.
ISBN-13:
9781593278557

\link{https://nostarch.com/linuxbasicsforhackers}
Not curriculum but explains how to use Linux

\slide{ The Debian Administrator’s Handbook (DEB)}

\hlkimage{6cm}{book-debian-administrators-handbook.jpg}

\emph{The Debian Administrator’s Handbook}, Raphaël Hertzog and Roland Mas\\
\url{https://debian-handbook.info/} - shortened DEB

Not curriculum but explains how to use Debian Linux

\slide{ Kali Linux Revealed (KLR)}

\hlkimage{6cm}{kali-linux-revealed.jpg}

\emph{Kali Linux Revealed  Mastering the Penetration Testing Distribution}

\link{https://www.kali.org/download-kali-linux-revealed-book/}\\
Not curriculum but explains how to install Kali Linux




\slide{Hackerlab Setup}

\hlkimage{6cm}{hacklab-1.png}

\begin{list2}
\item Hardware: modern laptop CPU with virtualisation\\
Dont forget to enable hardware virtualisation in the BIOS
\item Virtualisation software: VMware, Virtual box, HyperV pick your poison
\item Linux server system: Debian amd64 64-bit \link{https://www.debian.org/}
\item Setup instructions can be found at \link{https://github.com/kramse/kramse-labs}
\end{list2}

\centerline{It is enough if these VMs are pr team}


\slide{Technologies used in this course}

The following tools and environments are examples that may be introduced in this course:

\begin{list2}
\item Programming languages and frameworks Java, Python, regular expressions
\item Development environments -- choose your own IDE / Editor -- I use {\bf Atom}
\item Networking and network protocols: TCP/IP, HTTP, DNS
\item Formats XML, JSON, CSV, raw text, web scraping
\item Web technologies and services: REST, API, HTML5, CSS, JavaScript
\item Tools like cURL, Git and Github
\item Hacking tools Nikto, sslscan, Burp Suite
%\item Message queueing systems: MQ and Redis could be added
\item Optional - but demoed aggregated example platforms: Elastic stack, logstash, elasticsearch, kibana, Filebeat
\item Cloud and virtualisation {\bf Docker} -- are similar and can be added
\end{list2}

\centerline{This list is not complete or a promise }



\slide{Mixed exercises}
Then we will do a mixed bag of exercises to introduce technologies, find your current knowledge level with regards to:

\begin{list2}
\item Linux
\item Linux command line
\item Git, Python and Ansible
\item Elasticsearch -- how to run a \emph{service}
\item Running Java on Linux -- environment variables?!
\item Ansible provisioning -- installing and configuring software for production
\end{list2}

{\bf Note: today we will consider all these optional, we won't be able to do them all}

Later we will return to them!

\slide{Installing software in Debian -- apt}

%\hlkimage{}{}

\begin{alltt}\footnotesize
DESCRIPTION
apt provides a high-level commandline interface for the package management system. It is intended as an end user interface
and enables some options better suited for interactive usage by default compared to more specialized APT tools like apt-get(8)
and apt-cache(8).

update (apt-get(8))
  update is used to download package information from all configured sources. Other commands operate on this data to e.g.
  perform package upgrades or search in and display details about all packages available for installation.

upgrade (apt-get(8))
  upgrade is used to install available upgrades of all packages currently installed on the system from the sources configured
  via sources.list(5). New packages will be installed if required to satisfy dependencies, but existing packages will never
  be removed. If an upgrade for a package requires the removal of an installed package the upgrade for this package isn't performed.

full-upgrade (apt-get(8))
  full-upgrade performs the function of upgrade but will remove currently installed packages if this is needed to upgrade the
  system as a whole.
\end{alltt}

\begin{list2}
  \item Install a program using apt, for example \verb+apt install nmap+
\end{list2}



\slide{Ansible}

\hlkimage{2cm}{Ansible_logo.png}

\begin{quote}
From my course materials:\\
Ansible is great for automating stuff, so by running the playbooks we can get a whole lot of programs installed, files modified - avoiding the Vi editor.
\end{quote}

\begin{list2}
\item Easy to read, even if you don't know much about YAML
\item \link{https://www.ansible.com/} and \link{https://en.wikipedia.org/wiki/Ansible_(software)}
\item Great documentation\\
 \link{https://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_module.html}
\end{list2}


\slide{Ansible Dependencies}

\hlkimage{10cm}{python-logo.png}

\begin{list2}
\item Ansible based on Python, only need Python installed\\
\link{https://www.python.org/}
\item Often you use Secure Shell for connecting to servers\\
\link{https://www.openssh.com/}
\item Easy to configure SSH keys, for secure connections
\end{list2}


\slide{Ansible playbooks}

Example playbook content, installing software using APT:
\begin{alltt}\small
apt:
    name: "\{\{ packages \}\}"
    vars:
      packages:
        - nmap
        - curl
        - iperf
        ...
\end{alltt}

Running it:
\begin{minted}[fontsize=\small]{shell}
cd kramse-labs/suricatazeek
ansible-playbook -v 1-dependencies.yml 2-suricatazeek.yml 3-elasticstack.yml 4-configuration.yml
\end{minted}

"YAML (a recursive acronym for "YAML Ain't Markup Language") is a human-readable data-serialization language."\\
\link{https://en.wikipedia.org/wiki/YAML}

\slide{Python and YAML -- Git}

\hlkimage{7cm}{git-logo.png}

\begin{list2}
\item We need to store configurations
\item Run playbooks
\item Problem: Remember what we did, when, how
\item Solution: use git for the playbooks
\item Not the only version control system, but my preferred one
\end{list2}

\slide{Git getting started}

{\bf Hints:}\\
Browse the Git tutorials on \link{https://git-scm.com/docs/gittutorial}\\
and \link{https://guides.github.com/activities/hello-world/}

\begin{list2}
\item What is git
\item Terminology
\end{list2}

Note: you don't need an account on Github to download/clone repositories, but having an acccount allows you to save repositories yourself and is recommended.

\slide{Demo: Ansible, Python, Git!}

\begin{quote}
  Running Git will allow you to clone repositories from others easily. This is a great way to get new software packages, and share your own.

  Git is the name of the tool, and Github is a popular site for hosting git repositories.
\end{quote}


\begin{list2}
\item Go to \link{https://github.com/kramse/kramse-labs}
\item Lets explore while we talk
\item Install Git, Ansible and Python manually using apt
\item Then I will use Git to clone a repository
\item Using Ansible I can then run a playbook
\end{list2}


\slide{Demo: output from running a git clone}

\begin{alltt}\footnotesize
user@Projects:tt$ {\bf git clone https://github.com/kramse/kramse-labs.git}
Cloning into 'kramse-labs'...
remote: Enumerating objects: 283, done.
remote: Total 283 (delta 0), reused 0 (delta 0), pack-reused 283
Receiving objects: 100% (283/283), 215.04 KiB | 898.00 KiB/s, done.
Resolving deltas: 100% (145/145), done.

user@Projects:tt$ {\bf cd kramse-labs/}

user@Projects:kramse-labs$ {\bf ls}
LICENSE  README.md  core-net-lab  lab-network  suricatazeek  work-station
user@Projects:kramse-labs$ git pull
Already up to date.
\end{alltt}

for reference at home later


\slide{Exercise CHAOS: Don't Panic -- have fun learning}

\hlkimage{6cm}{dont-panic.png}

\begin{quote}
“It is said that despite its many glaring (and occasionally fatal) inaccuracies, the Hitchhiker’s Guide to the Galaxy itself has outsold the Encyclopedia Galactica because it is slightly cheaper, and because it has the words ‘DON’T PANIC’ in large, friendly letters on the cover.”
\end{quote}
Hitchhiker’s Guide to the Galaxy, Douglas Adams

\slide{Your lab setup}

\begin{list2}
\item Go to GitHub, Find user Kramse, click through kramse-labs
\item Look into the instructions for the Virtual Machine -- Debian only

\item Get the lab instructions, from\\ {\footnotesize\url{https://github.com/kramse/kramse-labs/}}
\end{list2}

\centerline{\Large TODAY ALL EXERCISES after installing the basic VMs ARE OPTIONAL!}

\exercise{ex:sw-downloadDEB}
\exercise{ex:sw-downloadKLR}
\exercise{ex:sw-basicDebianVM}
\exercise{ex:sw-basicVM}

\exercise{ex:sw-basicLinuxetc}
\exercise{ex:debian-firewall}

\exercise{ex:git-tutorial}

\exercise{ex-python-Jupyterlab}
\exercise{ex:postman-api}

\slidenext{Buy the books! Create your VMs}

\end{document}
