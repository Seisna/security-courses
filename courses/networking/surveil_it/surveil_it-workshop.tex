\documentclass[Screen16to9,17pt]{foils}
\usepackage{zencurity-slides}



% Original description in danish sorry
% Netværk idag er ofte blevet uoverskuelige, men kritiske for vores
% IT-brug. Foredraget indeholder beskrivelse af et baseline setup med
% Ansible opskrifter til konfiguration af et komplet logging setup med
% Suricata, Zeek og passiv DNS opsamling. Formålet er at kunne gå tilbage
% i tiden og identificere inficerede maskiner, angrebsforsøg, men også
% blot dokumentere en baseline for netværket.

% Nøgleord:
% DNS, malware detektion, IDS, NetFlow, dashboards, TCP, UDP, ICMP, TLS

% Forudsætninger
% Der bliver opsat testudstyr og netværk, så det største udbytte fås ved at
% medbringe en bærbar computer. Helst med mulighed for at afvikle en virtual
% maskine, med: 30Gb ledig disk, 2 CPU (1 er minimum), 2048Mb memory (1024 er
% minimum). Software til virtualisering kan være Virtual box, VMware eller
% lignende. Det forventes, at deltagerne har dette installeret, testet og selv
% kender det.

% Basic things that we need are below

%\externaldocument{unix-audit-security-oevelser}
\externaldocument{\jobname-exercises}

\begin{document}

% Switch font to dyslexic
\rm


\selectlanguage{english}
\mytitlepage
{Network Tapping }
{PROSA SURVEIL\_IT}

\LogoOn

%\dagsplan


\slide{Goal}

%{\hlkbig En 3 dages workshop, hvor du lærer at angribe dit netværk!}
\hlkimage{3cm}{dont-panic.png}
\centerline{\color{titlecolor}\LARGE Don't Panic!}

Spend some time sniffing data, multiple tools:
\begin{list1}
\item Try different ways to sniff packets
\item Try The Zeek Network Security Monitor
\item How to get started using packet capture tools in a network
\end{list1}

\centerline{We try to do a lot, feel free to focus on specific parts}

\slide{Packet sniffing tools}

\begin{list1}
\item Tcpdump for capturing packets
\item Wireshark for dissecting packets manually with GUI
\item Zeek Network Security Monitor for automated dissection
\end{list1}

\vskip 5mm
\centerline{Often a combination of tools and methods used in practice}

Full packet capture big data tools also exist

\slide{Kali Linux the pentest toolbox}

\hlkimage{16cm}{kali-linux.png}

\begin{list1}
\item Kali \link{http://www.kali.org/} brings together 100s of tools
\item 100.000s of videos on YouTube alone, searching for kali and \$TOOL
\end{list1}


\slide{Hackerlab setup}

\hlkimage{8cm}{hacklab-1.png}

\begin{list2}
\item Hardware: most modern laptop CPUs have virtualization support \\
May need to enable it in BIOS
\item Virtualization software: VMware, Virtual box, choose your poison
\item Hackersoftware: Kali as a Virtual Machine \link{https://www.kali.org/}
\item Install sniffing VM - put into \emph{bridge mode} or use USB Ethernet
\end{list2}

\slide{Your lab setup}

\begin{list2}
\item Go to GitHub, Find user Kramse, click through security-courses, courses, network, surveil\_it and download the PDF files for the slides and exercises:\\  {\footnotesize \url{https://github.com/kramse/security-courses/tree/master/courses/networking/surveil_it}}

\item And if you want to go full-blown and run your own Zeek then also get the lab instructions, from:\\ {\footnotesize\url{https://github.com/kramse/kramse-labs/tree/master/suricatazeek}}
\end{list2}

We recommend working in groups and all exercises are optional {\Huge\smiley}

\slide{What happens today?}

\begin{list1}
\item Think like a blue team member find traffic
\item Get basic tools running
\item Improve situation
\begin{list2}
\item See where the data end up
\item What kind of data and metadata can we extract
\item How can we collect and make use of it
\item Databases and web interfaces, examples shown
\item Consider what your deployment could be
\end{list2}
\end{list1}

\centerline{Today focus on the lower parts, but user interfaces are important too}

\slide{Security devops}

\begin{list1}
\item We need devops skillz in security
\item automate, security is also big data
\item integrate tools, transfer, sort, search, pattern matching, statistics, ...
\item tools, languages, databases, protocols, data formats
\item Use GitHub! So many libraries and programs that can help, maybe solve  90\% of your problem, and you can glue the rest together
\item Example introductions:
\begin{list2}
\item Seven languages/database/web frameworks in Seven Weeks
\item Elasticsearch the definitive guide
\end{list2}
\end{list1}

\centerline{We are all Devops now, even security people!}



\slide{Internet today}

\hlkimage{10cm}{images/server-client.pdf}

\begin{list1}
\item Clients and servers
\item Roots in academia
\item Protocols more than 20 years old
\item HTTP is becoming encrypted, but a lot other traffic is not
\end{list1}

\slide{OSI and Internet models}

\hlkimage{10cm,angle=90}{images/compare-osi-ip.pdf}

\slide{Using Wireshark}

\hlkimage{14cm}{images/wireshark-http.png}

\centerline{\link{https://www.wireshark.org}}



\slide{The Zeek Network Security Monitor}

\hlkimage{14cm}{zeek-overview.png}

The Zeek Network Security Monitor is not a single tool, more of a
powerful network analysis framework (former name Bro)

{\small Source \url{https://www.zeek.org/}, redirects to \url{https://www.zeek.org/zeek.html}}



\slide{Exercise setup}

We will use a combination of your virtual servers, my switch hardware and my virtual systems.

\vskip 1cm
{\Large \bf There will be sniffing done on traffic!\\
Don't abuse information gathered}

We try to mimic what you would do in your own networks during the exercises.

Another way of running exercises might be:\\
\url{https://github.com/jonschipp/ISLET}

Recommended and used by Zeek and Suricata projects.


\exercise{ex:wireshark-install}
\exercise{ex:wireshark-capture}

\exercise{ex:zeekweb}





\myquestionspage

\end{document}
